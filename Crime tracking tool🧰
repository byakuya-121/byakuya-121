# Crime tracking toolğŸ§°
import tkinter as tk
from tkinter import ttk, messagebox
import requests

class CyberSecurityTool:
    def __init__(self, root):
        self.root = root
        self.root.title("ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ„ãƒ¼ãƒ«")
        self.create_widgets()

    def create_widgets(self):
        tab_control = ttk.Notebook(self.root)

        self.tab_ip = ttk.Frame(tab_control)
        self.tab_hash = ttk.Frame(tab_control)
        self.tab_server_info = ttk.Frame(tab_control)

        tab_control.add(self.tab_ip, text='IPã‚¢ãƒ‰ãƒ¬ã‚¹ãƒã‚§ãƒƒã‚¯')
        tab_control.add(self.tab_hash, text='ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒƒã‚·ãƒ¥ãƒã‚§ãƒƒã‚¯')
        tab_control.add(self.tab_server_info, text='Webã‚µãƒ¼ãƒãƒ¼æƒ…å ±')

        tab_control.pack(expand=1, fill='both')

        self.create_ip_tab()
        self.create_hash_tab()
        self.create_server_info_tab()

    def create_ip_tab(self):
        ttk.Label(self.tab_ip, text="IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›").pack(pady=5)
        self.ip_entry = ttk.Entry(self.tab_ip, width=30)
        self.ip_entry.pack(pady=5)
        ttk.Button(self.tab_ip, text="ãƒã‚§ãƒƒã‚¯", command=self.check_ip).pack(pady=5)

    def create_hash_tab(self):
        ttk.Label(self.tab_hash, text="ãƒ•ã‚¡ã‚¤ãƒ«ã®SHA256ãƒãƒƒã‚·ãƒ¥ã‚’å…¥åŠ›").pack(pady=5)
        self.hash_entry = ttk.Entry(self.tab_hash, width=64)
        self.hash_entry.pack(pady=5)
        ttk.Button(self.tab_hash, text="ãƒã‚§ãƒƒã‚¯", command=self.check_hash).pack(pady=5)

    def create_server_info_tab(self):
        ttk.Label(self.tab_server_info, text="URLã‚’å…¥åŠ›ï¼ˆä¾‹: https://www.example.comï¼‰").pack(pady=5)
        self.url_entry = ttk.Entry(self.tab_server_info, width=50)
        self.url_entry.pack(pady=5)
        ttk.Button(self.tab_server_info, text="æƒ…å ±ã‚’å–å¾—", command=self.get_server_info).pack(pady=5)
        self.server_info_text = tk.Text(self.tab_server_info, height=10, width=80)
        self.server_info_text.pack(pady=5)

    def check_ip(self):
        ip = self.ip_entry.get().strip()
        if not ip:
            messagebox.showwarning("å…¥åŠ›ã‚¨ãƒ©ãƒ¼", "IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
            return

        try:
            response = requests.get(f"https://ipapi.co/{ip}/json/")
            data = response.json()
            if response.status_code == 200:
                info = (
                    f"IPã‚¢ãƒ‰ãƒ¬ã‚¹: {data.get('ip', 'æƒ…å ±ãªã—')}\n"
                    f"å›½: {data.get('country_name', 'æƒ…å ±ãªã—')}\n"
                    f"åœ°åŸŸ: {data.get('region', 'æƒ…å ±ãªã—')}\n"
                    f"éƒ½å¸‚: {data.get('city', 'æƒ…å ±ãªã—')}\n"
                    f"éƒµä¾¿ç•ªå·: {data.get('postal', 'æƒ…å ±ãªã—')}\n"
                    f"ç·¯åº¦: {data.get('latitude', 'æƒ…å ±ãªã—')}\n"
                    f"çµŒåº¦: {data.get('longitude', 'æƒ…å ±ãªã—')}\n"
                    f"ãƒ—ãƒ­ãƒã‚¤ãƒ€: {data.get('org', 'æƒ…å ±ãªã—')}\n"
                )
                self.display_info(info)
            else:
                messagebox.showerror("ã‚¨ãƒ©ãƒ¼", "IPæƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚")
        except requests.exceptions.RequestException as e:
            messagebox.showerror("ã‚¨ãƒ©ãƒ¼", f"æƒ…å ±ã®å–å¾—ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\n{e}")

    def check_hash(self):
        # ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒƒã‚·ãƒ¥ãƒã‚§ãƒƒã‚¯ã®å‡¦ç†
        pass

    def get_server_info(self):
        url = self.url_entry.get().strip()
        if not url:
            messagebox.showwarning("å…¥åŠ›ã‚¨ãƒ©ãƒ¼", "URLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
            return

        try:
            response = requests.get(url)
            headers = response.headers
            server_info = (
                f"ã‚µãƒ¼ãƒãƒ¼: {headers.get('Server', 'æƒ…å ±ãªã—')}\n"
                f"ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—: {headers.get('Content-Type', 'æƒ…å ±ãªã—')}\n"
                f"ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é•·ã•: {headers.get('Content-Length', 'æƒ…å ±ãªã—')}\n"
                f"æ—¥ä»˜: {headers.get('Date', 'æƒ…å ±ãªã—')}\n"
            )
            self.display_info(server_info)
        except requests.exceptions.RequestException as e:
            messagebox.showerror("ã‚¨ãƒ©ãƒ¼", f"æƒ…å ±ã®å–å¾—ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\n{e}")

    def display_info(self, info):
        self.server_info_text.delete(1.0, tk.END)
        self.server_info_text.insert(tk.END, info)

if __name__ == "__main__":
    root = tk.Tk()
    app = CyberSecurityTool(root)
    root.mainloop()
